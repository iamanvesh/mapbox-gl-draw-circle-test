(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=(a(97),a(33)),s=a(42),l=a(21),u=a(48),d=a(19),p=a(86),m=a(49),h=(a(98),a(25)),f=a(84),w=a(24),v=a.n(w),b=(a(154),a(34)),g=Object(f.a)({accessToken:"pk.eyJ1IjoiYWlyeG9zLWFkbWluIiwiYSI6ImNqY2l3OHNjdTA5eWgyd2x4djI1aG1uOW0ifQ.xtTj7USc_CpjJcvPwEoPwg"}),y={style:"mapbox://styles/mapbox/streets-v11",zoom:[13],containerStyle:{height:"100vh",width:"100%"}},j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onMapLoaded=function(e){e.addControl(a.draw),a.what();var t=function(e){return a.props.onFeaturesUpdated(e)};e.on("draw.create",function(e){return t(e.features)}),e.on("draw.update",function(e){return t(e.features)}),e.on("draw.delete",function(e){return t(e.features)})},a.draw=new v.a({displayControlsDefault:!1,userProperties:!0,defaultMode:"draw_circle",clickBuffer:10,touchBuffer:10,modes:Object(c.a)({},v.a.modes,{draw_circle:b.a,direct_select:b.b,simple_select:b.d,drag_circle:b.c})}),a.what=function(){console.log(this.draw.getAll().features),setTimeout(this.what,2e3)}.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){e.mode===this.props.mode&&this.props.features.length===this.draw.getAll().features.length||(console.log(this.props.mode),this.draw.deleteAll(),this.draw.changeMode(this.props.mode))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g,Object.assign({},y,{onStyleLoad:function(t){return e.onMapLoaded(t)}})))}}]),t}(r.a.Component),k=a(193),O=a(197),E=a(198),S=a(196),C=a(7),x=a(199),_=[{key:1,value:"Circle",mode:"draw_circle"},{key:2,value:"Drag Circle",mode:"drag_circle"},{key:3,value:"Polygon",mode:"draw_polygon"},{key:4,value:"Line",mode:"draw_line_string"}],I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initialState={selectedShape:_[0],mode:_[0].mode,features:[]},a.state=Object(c.a)({},a.initialState),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setState",value:function(e,a){Object(p.a)(Object(d.a)(t.prototype),"setState",this).call(this,e,a),console.log("what")}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.features[0],n=a&&a.properties.isCircle?a.properties.center.map(function(e){return e.toFixed(3)}):[];return r.a.createElement("div",null,r.a.createElement("div",{className:t.map},r.a.createElement(j,{onFeaturesUpdated:function(t){return e.setState({features:t})},features:this.state.features,mode:this.state.mode})),r.a.createElement("div",{className:t.shapeSelectContainer},r.a.createElement(k.a,null,r.a.createElement(O.a,{value:this.state.selectedShape.key?this.state.selectedShape.key:0,onChange:function(t){var a=_.find(function(e){return e.key===t.target.value});e.setState({selectedShape:a,mode:a.mode,features:[]})},inputProps:{name:"shape",id:"shape-selector"}},_.map(function(e){return r.a.createElement(E.a,{key:e.key,value:e.key},e.value)}))),r.a.createElement(S.a,{onClick:function(){return e.setState(Object(c.a)({},e.initialState))}},r.a.createElement(x.a,null))),r.a.createElement("div",{className:t.textContainer},r.a.createElement("p",null,"Center: [".concat(n.join(", "),"]")),r.a.createElement("p",null,"Radius: ".concat(a&&a.properties.isCircle?a.properties.radiusInKm.toFixed(4):"--"," kms"))))}}]),t}(r.a.Component),W=Object(C.a)(function(e){return{map:{zIndex:-1,position:"absolute",top:0,left:0,width:"100%"},shapeSelectContainer:{position:"absolute",verticalAlign:"middle",right:16,top:16},textContainer:{position:"absolute",bottom:32,left:16,background:"#eee",paddingLeft:16,paddingRight:16}}})(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(85);i.a.render(r.a.createElement(L.a,{basename:"/iamanvesh/mapbox-gl-draw-circle-test"},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a(170)},97:function(e,t,a){},98:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.ba8c1910.chunk.js.map